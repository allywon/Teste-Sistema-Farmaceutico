unit Procedimento.Mapper;

interface

uses
  System.JSON, Model.Procedimento, Model.Procedimento.Tipo;

type
  TProcedimentoMapper = class
  public
    function ParaJSON(const Procedimento: TProcedimento): TJSONObject;
  end;

implementation

{ TProcedimentoMapper }

function TProcedimentoMapper.ParaJSON(const Procedimento: TProcedimento): TJSONObject;
begin
  Result := TJSONObject.Create;
  try
    Result.AddPair('id', TJSONNumber.Create(Procedimento.Id));
    Result.AddPair('tipo', TJSONNumber.Create(Ord(Procedimento.Tipo)));
    Result.AddPair('tipoDescricao', TipoProcedimentoToStr(Procedimento.Tipo));
    Result.AddPair('descricao', Procedimento.Descricao);
    Result.AddPair('valor', TJSONNumber.Create(Procedimento.Valor));
  except
    Result.Free;
    raise;
  end;
end;

end.

